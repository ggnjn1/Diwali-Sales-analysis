import numpy as np 
import pandas as pd 
import matplotlib.pyplot as plt
%matplotlib inline
import seaborn as sns

df = pd.read_csv('Diwali Sales Data.csv', encoding= 'unicode_escape')

df.head(10)

df.info()

## Cleaning the data

df.drop(["Status" , "unnamed1"], axis=1 , inplace = True)

df.isnull().sum()

df= df.dropna()

df['Amount']= df['Amount'].astype('int')

df.describe()

df[['Age','Orders','Amount']].describe()

## Exploratory Data Analysis  

### Gender

gn = sns.countplot( x = 'Gender' , data = df)

for bars in gn.containers:
    gn.bar_label(bars)

sales_gn= df.groupby(['Gender'] , as_index = False)['Amount'].sum().sort_values(by="Amount" , ascending= False)

sns.barplot( x ='Gender', y='Amount' , data= sales_gn)

##### From above graphs we can see that most of the buyers are females and even the purchasing power of females are greater than men.

### Age

ag = sns.countplot( data=df , x='Age Group' , hue ='Gender')
for bars in ag.containers:
    ag.bar_label(bars)

sales_ag = df.groupby(['Age Group'] , as_index = False)['Amount'].sum().sort_values(by= 'Amount' , ascending = False)
sns.barplot(x= 'Age Group' , y= 'Amount' , data= sales_ag)

#####  From above graph we can see that most of the buyers are of age group between 26-35 yrs female.

### State

sales_state= df.groupby(['State'] , as_index = False)['Orders'].sum().sort_values(by="Orders" , ascending= False).head(10)

sns.set(rc={'figure.figsize' : (15,5)})
sns.barplot(x='State',y='Orders' , data=sales_state)

sales_state= df.groupby(['State'] , as_index = False)['Amount'].sum().sort_values(by="Amount" , ascending= False).head(10)

sns.set(rc={'figure.figsize' : (15,5)})
sns.barplot(x='State',y='Amount' , data=sales_state)

####  From above graphs we can see that most of the orders & total sales/amount are from Uttar Pradesh, Maharashtra and Karnataka respectively



### Marital Status

ms = sns.countplot( data=df , x='Marital_Status' )

sns.set(rc={'figure.figsize' : (5,5)})

for bars in ms.containers:
    ms.bar_label(bars)

sales_ms = df.groupby(['Marital_Status', 'Gender'], as_index=False)['Amount'].sum().sort_values(by='Amount', ascending=False)

sns.set(rc={'figure.figsize':(6,5)})
sns.barplot(data = sales_ms, x = 'Marital_Status',y= 'Amount', hue='Gender')

##### From above graphs we can see that most of the buyers are married (women) and they have high purchasing power

### Occupation

sns.set(rc={'figure.figsize' : (20,5)})
oc = sns.countplot(x='Occupation' , data=df)
for bars in oc.containers:
    oc.bar_label(bars)

sales_oc = df.groupby(['Occupation'], as_index=False)['Amount'].sum().sort_values(by='Amount', ascending=False)

sns.set(rc={'figure.figsize':(20,5)})
sns.barplot(data = sales_oc, x = 'Occupation',y= 'Amount')

#### From above graphs we can see that most of the buyers are working in IT, Healthcare and Aviation sector

### Product Category

sns.set(rc={'figure.figsize' : (20,5)})
pc = sns.countplot(x='Product_Category' , data=df)
for bars in pc.containers:
    pc.bar_label(bars)

sales_pc = df.groupby(['Product_Category'], as_index=False)['Amount'].sum().sort_values(by='Amount', ascending=False).head(10)

sns.set(rc={'figure.figsize':(25,5)})
sns.barplot(data = sales_pc, x = 'Product_Category',y= 'Amount')

##### From above graphs we can see that most of the sold products are from Food, Clothing and Electronics category

sales_pi = df.groupby(['Product_ID'], as_index=False)['Amount'].sum().sort_values(by='Amount', ascending=False).head(10)

sns.set(rc={'figure.figsize':(25,5)})
sns.barplot(data = sales_pi, x = 'Product_ID',y= 'Amount')

## Conclusion

#### Married women age group 26-35 yrs from UP, Maharastra and Karnataka working in IT, Healthcare and Aviation are more likely to buy products from Food, Clothing and Electronics category
